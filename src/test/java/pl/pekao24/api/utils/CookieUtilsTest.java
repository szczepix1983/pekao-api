package pl.pekao24.api.utils;

import org.junit.jupiter.api.Test;

import java.util.List;

import static org.assertj.core.api.Assertions.assertThat;

class CookieUtilsTest {

    @Test
    void getRequiredCookies() {
        List<String> cookies = List.of("FDS=PMV6A9dB9gffEVcu7b2Cr5QZEbrsF%2B9Tpd9nuUia8x9gv9gsCOjUnO%2B5tJIw6veS%2F57c4jfddew%2BEuZ3kCXAULkx1ELg%3D%3D; Max-Age=31536000; Expires=Mon",
                "07-Nov-2022 16:44:45 GMT; Domain=www.pekao24.pl; Path=/; Secure; HttpOnly",
                "ID_TOKEN=eyJhbGciOiJSU0EtT0FFUCIsImVuYyI6IkExMjhDQkMtSFMyNTYiLCJjdHkiOiJKV1QifQ.FUaBmwz3r78MLOWR-hjbzAZNZx4T52xPSBKjDtsRcE1r3m6Nj0sQeOkE462e4rGcHwr18ujYsfU9PEtUPx4gTTq4Q3HCyALMcPvmgQv6OGSzwIWGsuBeNxszEz5RialpH2HWMWL1Is4ilHdVwd187MmrQod7pNdMZ2SjrA7SB5VS7kgDMd_zYkBzkhu5C62Avjcs-UhvvkUUPZIDoiAMhD5aFGphCyyRfr156jT-FZoux5sqOPSVV6Yk8ieA3ehO1w4VFeG_UiWCTXW_j9O9u90_HszRz20MLLZd9IKro6F56MTXNiyVI2CZd_YK3UggY_swwVllfqA6ARTq4oSYCQ.t6NpCGUsvD1jNgtFwLI7kA.hBqpB0xQIN0zQOmvHhZlQGXyHruK2GdAV9NBmSF3eh_Qx3VbwjAEGoz13xmpz4qxsw8ykxHQWZYtOr3qD11IXXJzH2WHNMEOeFv2zGE8CQn07MFJCwh2cla76-I8xB-xcvTUIzOkNY2xl2e73AjWtLD33RWpIcQo8WmAws7-PQCSlIv6hb3UCQ_wZZMsfrfbLMtpv8UpWDkG_8rjpm7U7DSa_ciH5GwUTr7LO43hJCG-xj2q-z8gospcSAnkuZQ3oQivfHHk5U1x3xjm7ddSGB5viUevqS8KKroQFGSqJWEJAezJ2lTh9Y97M84gI7CLTin22z1BZZQ02UfT1lUliqU9cV_j6HSg1TCiWyWGXUOaQF_xsarQWL_k2BQOBxTSzorNee0f2ZmDiAWhK5YZ1f3o-16hrIYo2B9qvdbA3H7O7vR0xyLwVji7vQHNgOx3gspJB3jUFRhFnxKzJylF5WoYCo4lGne1zl9tRyagCdXQxuhnSYZGHHNMjMJLUjrs0zPukO4zBb5yUpsPlI6AY8t7MIxKkoPtmzrk2UROc4RmKSniRc2vCZoDXAWJjmuzLRW_A6K7JGJ5z9ecGV7JPNf0CjLdDdM22BF1sc0Rn1dwzY-jgXaP3m3l75LPkSe25d-wd30UrcJbLL52ShOb8Zc_47rxXES52Y8Z836L78d9xi73lyQD7tg4A_dhkFGdGuMv8aYa2SQOr_Eaj0P1P5OS_A4m1R6ncpZZZnbUwwjrPmvpPAkq17W2XhJY6NM83p-dYSJdrsvwTWDIc9Hn8U80KGzNKbYjSn4MKrNeCsnuqCcNEavG5MI3o8lY6nYVhTKksT8CQ1p29YbCx1M92LBO_0uZ8JrYQqwmfhIsd9D9-I7Bu_SkZ582mabA3tgQalYOJqgwiJ4QSp5ZMVD29n3mmh3CS2ob4W__1Jd2EbjNr7RHpO6KmMnJyJcKGqheFOLMdq_8CTe02yftYRqUs8cCrjS5xSFeToBLhVtF9sXNi9YZAT18rayTTIPbZLnx_f9Db_N2kamTk3eqhd449NSMEsUAixg2prQqWw2wpnZdHJ0fw1nE7NpQ568bs8o_9ClsBcDssk-Q_xA3IUKPAktWZvQbgH6iEqc4X4Nm4qprj_a-dvO4WuEUgeq9avuKno8cT8sSAMRNcLjIYrlhsS0_zG3V93dnkY45skJSW4rDTmOrjbM8Ub09myRE3FWE96vwRPGT9A90_gZyLUlk2LJdvtfiMHPutBJi5sf71sxifaB1wBOlRWufigLzaPz14oGaNZlAyPoRmK-fBM8BhBy3QhvV3yqXBb8vosNX3fEnAlWWuj-FS2Gi_9okS_Ffg_9GZljfcGINxtt6laYXwyEapEi0moAZ9dT1AgHzwqNir0WTQeRci1-kDBMyBZoe7zGeDHOj086XHIpBzGCW4knycmfZ4Cc30UpAR52J1F2mn1LozVQg5vRxIULmk-NpXYfCOSXKCSBvO-VKXboN6VKUdlTe_UwSrx56weVZ7ifNUtOO0is6baotUp-dJ2XwA8B-f36BpEhwZWdqNI5XQ4XDz8yvslOojBb_enI-BpkveZ4aioxp_1LX-or98UXs5SAw_JCBme4OdPH5arPZbOCLeNYOEPUmUvIiM5uv_7J8MOcUbrEIo12le5rsEbVqV51ZgrgmvILD_zKTy2qqep3BnOb92uwf2d1LacIoQEbSVN8o3M9aookLMp__im-kKnd7tQbMisL2iv788Ct8GciroOWHJsp_gZvaEL2xdsHaPTDfE6wcC9G5xQNy4tJQxdMFtGWeeKoe7KnwccnTOJ3OS8tU_zJlYyaQroG1r18.Y0-EfJV2n5kxUnscL9tOQg; Path=/; Secure; HttpOnly",
                "REF_TOKEN=eyJhbGciOiJSU0EtT0FFUCIsImVuYyI6IkExMjhDQkMtSFMyNTYiLCJjdHkiOiJKV1QifQ.iGe-txn93O7SdxI8LQJPvjlb6Z6Wf9V0R39f3Upztzc-Dq2XrbpODJ7PfhJON0G5hj5gXG2ZiuXhcCIoa9X2nKcgDeCeRqlTgTMVRQIT72gccGVR98SUUj4BeVky9LAAbjD4pLUx4gfArOrcevpiG5-D4yYf47lpEwLgLA4vo3Ia7V4xMNLCuAP9v-Vw_RwQZ1HKctJH18xY0cKqVHEKMpyoOlETOX6Q2jtPeQfcW8kqmel-cNitzSwoycYxjgAO2cAAwNy8cWy1g8MZD1b2fJar5BzXkXarG8HbfY42iIFrjXUM8VLSH9paBEojJcG-4fHVje_Z0VfdDXNiYQn_hQ.fvbsk_Np-yF2KTTjefwsVg.d-ZtBVBoX4Q1PMyTKWzYs7LV8PuHpiwlAbV4q0cH6SntxRTKvuIV19wY2IysN7zjWqQtbr7Jd_J_GX22erGV0nA916ZDQqA1hbZTAEgcePLT7Y1VVV0yQSrjyP_3oIudtQqxXHTH2qgCKejm-9pwtODiLgPvBpENb4sgubMp9EUiSlyh9ONbgVK1dLap82wPPjlCf1CUmHJ-xzipJx25_VWc0PafIY7EwEsladdwMJ9IuvRRHr1WgggO3oVuW7XeIqERpRsiG1HkM_kfH7_BP40M5TiISDiovpFTZdQPwpC7pMtNciL2t1TvLkgWU3qvhf7WcksI-dASksQf13bXq5htKxNR90RlEwHQbQ1s3KG7Tlj9T8O42LoLjXWokN23M680gUBfdHjXLZE8iE8U0qY9M7bOJad8cmgH4IMZ8xOHGHr8KvjaRDEVqfQRAkev6a6OMSF8jQGLP4EnzND02MLEE8ZIhiRl7m-sxhl4GlJqmTrWRsd1hsOOnO1txt3qAJoEgISHhHepsUo3sUq0vwinrGjxZg_LVNkNHj-fvjKDlwhr9TgQ08FJ6vmnPgVoRyucktZjKUdFB60T3DR_Fvyfj36um_Imw2oMC3gy_iDaCjw635RDv_lFPmqJyQqIiyz0zpbtujpD3ybYrWkSbkLHwyjHoAOP2hOQZGN3CGMXk6XwwS_CtDX_zjlbvr9Baw12ZzVRx3SFgYyiyia8Bg.aTF-l23l0KLzoSPNHzh7ag; Path=/; Secure; HttpOnly",
                "SESSION_ID=VnpWYBhjxmK1jfFMXPj3ngv; Path=/; Secure; HttpOnly",
                "dtCookie=v_4_srv_4_sn_AAD1F5A3955E09D10D22E6C69D93A598_perc_100000_ol_0_mul_1_app-3A481bee1d12c5682c_0; Path=/; Domain=.pekao24.pl");
        List<String> requiredCookies = List.of("dtCookie", "FDS");

        String result = CookieUtils.getRequiredCookies(cookies, requiredCookies);

        assertThat(result).isEqualTo("dtCookie=v_4_srv_4_sn_AAD1F5A3955E09D10D22E6C69D93A598_perc_100000_ol_0_mul_1_app-3A481bee1d12c5682c_0;FDS=PMV6A9dB9gffEVcu7b2Cr5QZEbrsF%2B9Tpd9nuUia8x9gv9gsCOjUnO%2B5tJIw6veS%2F57c4jfddew%2BEuZ3kCXAULkx1ELg%3D%3D");
    }
}